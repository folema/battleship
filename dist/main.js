(()=>{"use strict";const e=e=>{let t=e,a=()=>{switch(t){case"Carrier":return 5;case"Battleship":return 4;case"Destroyer":case"Submarine":return 3;case"Patrol boat":return 2}},r=0,n=!1;const i=()=>r===a()?(n=!0,n):(n=!1,n);return{ship:t,shipLength:a(),impact:()=>(r++,i()),sinks:i}},t=(t,a)=>{let r=t,n=a;const i=[e("Carrier"),e("Battleship"),e("Destroyer"),e("Submarine"),e("Patrol boat")];let s=(()=>{let e={a:[0,1,2,3,4,5,6,7,8,9],b:[0,1,2,3,4,5,6,7,8,9],c:[0,1,2,3,4,5,6,7,8,9],d:[0,1,2,3,4,5,6,7,8,9],e:[0,1,2,3,4,5,6,7,8,9],f:[0,1,2,3,4,5,6,7,8,9],h:[0,1,2,3,4,5,6,7,8,9],i:[0,1,2,3,4,5,6,7,8,9],j:[0,1,2,3,4,5,6,7,8,9]};return{board:e,placeShip:t=>{let a=!0,r=Object.keys(t.cord);if(r.forEach((r=>{if(!((t,a)=>!isNaN(e[t][a]))(r,t.cord[r]))return a=!1,a})),!a)return"Not available";r.forEach((a=>{e[a][t.cord[a]]=t.ship.ship}))}}})(),c={a:[0,1,2,3,4,5,6,7,8,9],b:[0,1,2,3,4,5,6,7,8,9],c:[0,1,2,3,4,5,6,7,8,9],d:[0,1,2,3,4,5,6,7,8,9],e:[0,1,2,3,4,5,6,7,8,9],f:[0,1,2,3,4,5,6,7,8,9],h:[0,1,2,3,4,5,6,7,8,9],i:[0,1,2,3,4,5,6,7,8,9],j:[0,1,2,3,4,5,6,7,8,9]};return{name:r,navy:i,gameBoard:s,ai:n,oppositionBoard:c,fire:(e,t)=>{let a=Object.keys(e),r=Object.values(e);if(isNaN(c[a][r]))return"Can not fire twice at same coordinate";{let e=t.gameBoard.board[a][r];if(isNaN(e)){c[a][r]="Hit";for(let a=0;a<t.navy.length;a++)if(t.navy[a].ship===e)return t.navy[a].impact(),c;return c}return c[a][r]="Miss",c}}}},a=document.getElementById("child-container"),r=document.getElementById("child-container"),n=document.getElementById("name-input"),i=document.getElementById("startButton"),s=()=>{if(!(n.value<=0)){i.removeEventListener("click",s);const e=t(n.value,!1),c=t("Macintosh",!0);return(()=>{for(;a.firstChild;)a.removeChild(a.firstChild)})(),(e=>{const t=document.createElement("div");t.className="display-div",t.id="display-div";const a=document.createElement("h3");a.className="display",a.id="display",t.appendChild(a),r.appendChild(t);let n=e.gameBoard.board,i=Object.keys(n);const s=document.createElement("div");s.className="friendly-waters",s.id="friendly-waters",i.forEach((e=>{for(let t=0;t<n[e].length;t++){let a=document.createElement("div");a.className="tile",a.id=`${e}${n[e][t]}`,s.appendChild(a)}})),r.appendChild(s)})(e),c}alert("Enter player name")};document.getElementById("startButton").addEventListener("click",s)})();